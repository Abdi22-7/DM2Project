@page "{userId:int}/{groupId:int}"
@model DM2Projekt.Pages.UserGroups.DetailsModel

@{
    ViewData["Title"] = "User Group Details";
    var user = Model.UserGroup.User;
    var group = Model.UserGroup.Group;
}

<div class="container mt-4">
    <div class="mb-4">
        <h1>User Group Details</h1>
        <p class="text-muted">Insight into this user-group relationship.</p>
    </div>

    <div class="row">
        <!-- USER INFO -->
        <div class="col-md-6 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-header">
                    <i class="bi bi-person-fill"></i> User Info
                </div>
                <div class="card-body">
                    @if (!string.IsNullOrWhiteSpace(user.ProfileImagePath))
                    {
                        <img src="@user.ProfileImagePath" alt="User Image" class="img-thumbnail mb-3" style="max-height: 120px;" />
                    }
                    <dl class="row mb-0">
                        <dt class="col-sm-4">Full Name</dt>
                        <dd class="col-sm-8">@user.FirstName @user.LastName</dd>

                        <dt class="col-sm-4">Email</dt>
                        <dd class="col-sm-8">@user.Email</dd>

                        <dt class="col-sm-4">Role</dt>
                        <dd class="col-sm-8">@user.Role</dd>
                    </dl>
                </div>
            </div>
        </div>

        <!-- GROUP INFO -->
        <div class="col-md-6 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-header">
                    <i class="bi bi-people-fill"></i> Group Info
                </div>
                <div class="card-body">
                    <dl class="row mb-0">
                        <dt class="col-sm-4">Group Name</dt>
                        <dd class="col-sm-8">@group.GroupName</dd>

                        <dt class="col-sm-4">Created By</dt>
                        <dd class="col-sm-8">@Model.GroupCreatorEmail</dd>

                        <dt class="col-sm-4">Members</dt>
                        <dd class="col-sm-8">@Model.GroupMemberCount</dd>
                    </dl>
                </div>
            </div>
        </div>
    </div>

    <div class="mt-3 d-flex align-items-center">
        <a asp-page="./Index" class="btn btn-outline-secondary me-2">
            <i class="bi bi-arrow-left"></i> Back to List
        </a>

        <a asp-page="./Edit"
           asp-route-userId="@user.UserId"
           asp-route-groupId="@group.GroupId"
           class="btn btn-outline-primary">
            <i class="bi bi-pencil"></i> Edit
        </a>
    </div>
</div>
