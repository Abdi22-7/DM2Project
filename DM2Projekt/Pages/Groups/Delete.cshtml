@page
@model DM2Projekt.Pages.Groups.DeleteModel

@{
    ViewData["Title"] = "Delete Group";
}

<div class="container mt-4">
    <h1 class="mb-4 text-danger d-flex align-items-center gap-2">
        <i class="bi bi-exclamation-triangle-fill fs-2"></i> Delete Group
    </h1>

    @if (Model.Group != null)
    {
        <!-- warning box -->
        <div class="alert alert-warning">
            <h4 class="alert-heading">Heads up!</h4>
            <p>
                This will <strong>permanently delete</strong>
                <span class="text-danger">@Model.Group.GroupName</span>
                and remove it from all members. <br />
                <em>This action cannot be undone.</em>
            </p>
        </div>

        <!-- group details card -->
        <div class="card mb-4 shadow-sm">
            <div class="card-body">
                <h5 class="card-title mb-3">Group Details</h5>
                <dl class="row">
                    <dt class="col-sm-3">Group Name</dt>
                    <dd class="col-sm-9">@Model.Group.GroupName</dd>

                    <dt class="col-sm-3">Created By</dt>
                    <dd class="col-sm-9">@Model.Group.CreatedByUser.FirstName @Model.Group.CreatedByUser.LastName</dd>
                </dl>
            </div>
        </div>

        <!-- danger zone with buttons -->
        <div class="border border-danger rounded p-3">
            <form method="post" class="d-flex gap-3 flex-wrap justify-content-start align-items-center">
                <input type="hidden" asp-for="Group.GroupId" />

                <!-- big red delete button -->
                <button type="submit" class="btn btn-lg btn-danger d-flex align-items-center gap-2">
                    <i class="bi bi-trash3-fill fs-4"></i> Delete Group
                </button>

                <!-- subtle cancel link -->
                <a asp-page="./Index" class="btn btn-outline-secondary btn-lg">
                    <i class="bi bi-arrow-left"></i> Cancel
                </a>
            </form>
        </div>
    }
    else
    {
        <!-- error fallback -->
        <div class="alert alert-danger d-flex align-items-center gap-2">
            <i class="bi bi-x-circle-fill fs-3"></i>
            <span>🚫 You are not allowed to delete this group or it no longer exists.</span>
        </div>

        <a asp-page="./Index" class="btn btn-secondary mt-3">
            <i class="bi bi-arrow-left"></i> Back to Groups
        </a>
    }
</div>
