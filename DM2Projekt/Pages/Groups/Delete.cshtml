@page
@model DM2Projekt.Pages.Groups.DeleteModel

@{
    ViewData["Title"] = "Delete Group";
}

<div class="container mt-4">
    <h1 class="mb-4 text-danger">Delete Group</h1>

    @if (Model.Group != null)
    {
        <!-- warning message -->
        <div class="alert alert-warning">
            <h4 class="alert-heading">Heads up!</h4>
            <p>This will permanently delete <strong>@Model.Group.GroupName</strong> and remove it for all members.</p>
        </div>

        <!-- show group info in a card -->
        <div class="card mb-4 shadow-sm">
            <div class="card-body">
                <h5 class="card-title mb-3">Group Details</h5>
                <dl class="row">
                    <dt class="col-sm-3">Group Name</dt>
                    <dd class="col-sm-9">@Model.Group.GroupName</dd>

                    <dt class="col-sm-3">Created By</dt>
                    <dd class="col-sm-9">@Model.Group.CreatedByUser.FirstName @Model.Group.CreatedByUser.LastName</dd>
                </dl>
            </div>
        </div>

        <!-- confirm delete form -->
        <form method="post" class="d-flex gap-2">
            <input type="hidden" asp-for="Group.GroupId" />

            <!-- red delete button -->
            <button type="submit" class="btn btn-danger">
                <i class="bi bi-trash3-fill me-1"></i> Delete
            </button>

            <!-- cancel and go back -->
            <a asp-page="./Index" class="btn btn-outline-secondary">
                <i class="bi bi-arrow-left"></i> Cancel
            </a>
        </form>
    }
    else
    {
        <!-- fallback if user shouldn't be here -->
        <div class="alert alert-danger">
            🚫 You are not allowed to delete this group or it no longer exists.
        </div>

        <a asp-page="./Index" class="btn btn-secondary mt-3">
            <i class="bi bi-arrow-left"></i> Back to Groups
        </a>
    }
</div>
